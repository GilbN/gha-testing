!function(u){u.fn.bgSlideShow=function(e){var r=new Array,a=u.extend({current:-1,images:[],transitionDelay:5e3,transitionSpeed:3e3,transitionEffect:"fade-in",gradient:null,randomize:!1,initialBackground:null,debug:!1,eventHandlers:{beforeInit:null,afterInit:null,beforeChange:null,afterChange:null},slideControls:{enabled:!0,classes:null}},e);return this.each(function(e,n){var t=function(e,n){var t={};t.uniqueId=function(e){e=u(e).attr("id");e=e||function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return e.charAt(Math.floor(Math.random()*e.length))+Date.now()}();return e}(e),t.current=u(e).data("current")||n.current||0,t.images=n.images,t.slideControls=n.slideControls,t.slideControls.enabled=o(u(e).data("slidecontrols.enabled"),n.slideControls.enabled),t.slideControls.classes=u(e).data("slidecontrols.classes")||n.slideControls.classes,u(e).data("images")&&(t.images=u(e).data("images").split(",").map(e=>e.trim()));return t.initialBackground=u(e).data("initialbackground")||n.initialBackground,t.transitionDelay=u(e).data("transitiondelay")||n.transitionDelay,t.gradient=u(e).data("gradient")||n.gradient,t.transitionSpeed=u(e).data("transitionspeed")||n.transitionSpeed,t.transitionEffect=u(e).data("transitioneffect")||n.transitionEffect,t.randomize=o(u(e).data("randomize"),n.randomize),t.debug=o(u(e).data("debug"),n.debug),t.eventHandlers=n.eventHandlers,t.defaultDisplay=u(e).css("display")||"block",t}(this,a);t.eventHandlers.beforeInit&&t.eventHandlers.beforeInit(this,t),function(e,n){s(n.debug,"ProcessShow with element ["+e+"]"),u(e).data("bgSlideShowApplied",!0),function(e,n){var t,r;n.initialBackground&&(s(n.debug,"Setting initial image"),r=n.initialBackground,t="",!isNaN(r)&&r<n.images.length?(t=n.images[r],n.current=r+1):"random"==r.toLowerCase()?(r=n.randomize,n.randomize=!0,t=l(n),n.randomize=r):t=n.initialBackground,n.gradient?u(e).css("background",n.gradient+", url("+t+") center center/cover no-repeat fixed"):u(e).css("background","url("+t+") center center/cover no-repeat fixed"))}(e,n),function e(n){for(i=0;i<n.length;i++){var t=e.length;r[t]=new Image,r[t].src=n[i]}}(n.images),n.wrapBgElement=u("<div/>",{class:"jquery-bg-slideshow-wrap-bg-element",id:n.uniqueId+"-wrap-widget"}),u(e).wrap(n.wrapBgElement);var t=u(e).css("position","absolute");(function(n,e,t){if(s(t.debug,"List controls enabled: "+t.slideControls.enabled),1==t.slideControls.enabled){t.slideControlsElement=u("<div/>",{class:"jquery-bg-slideshow-list-control-element"+(t.slideControls.classes?" "+t.slideControls.classes:"")});for(var r=t.images.length,i=0;i<r;i++){var a=t.uniqueId+"-image"+i;u("<div/>",{class:"jquery-bg-slideshow-list-control-image-element",id:a}).appendTo(t.slideControlsElement)}u(e).append(t.slideControlsElement),u("[id^='"+t.uniqueId+"-image']").off("click").on("click",function(){u(t.cloned).remove();var e=u(this).attr("id"),e=parseInt(e.match(/-image(\d+)/)[1]);t.current=e+1,u(n).css("background","url("+t.images[e]+")"),c(t,t.current-1),console.log("clicked on ["+u(this).attr("id")+"]")})}})(e,t.parent(),n),s(n.debug,"Setting timeout for element ["+e+"]"),c(n,n.current),n.timerId=setTimeout(d,n.transitionDelay,e,n)}(this,t),t.eventHandlers.afterInit&&t.eventHandlers.afterInit(this,t),s(t.debug,"Done processing element ["+n+"] number ["+e+"]")});function o(e,n){return void 0===e?n:"boolean"==typeof e?e:(e=e.trim().toLowerCase()).startsWith("t")||e.startsWith("y")||1==e}function s(e,n){e&&console.log(n)}function l(e){if(e.randomize){for(var n=e.current;n==e.current;)n=Math.floor(Math.random()*e.images.length);return e.current=n,e.images[n]}e.current>=e.images.length&&(e.current=0);var t=e.images[e.current];return e.current=e.current+1,t}function d(e,n){s(n.debug,"Calling timer for element ["+e+"]"),function(e,n,t){n.eventHandlers.beforeChange&&n.eventHandlers.beforeChange(e,n,t);u(n.cloned).length&&u(n.cloned).remove();n.cloned=u(e).clone(),(n.gradient?u(n.cloned).addClass("jquery-bg-slideshow-cloned").css({background:n.gradient+", url("+t+") center center/cover no-repeat fixed"}):u(n.cloned).addClass("jquery-bg-slideshow-cloned").css({background:"url("+t+") center center/cover no-repeat fixed"})).insertAfter(u(e));u(n.cloned).addClass("jquery-bg-slideshow-cloned").css({background:n.gradient+", url("+t+") center center/cover no-repeat fixed"}).insertAfter(u(e)),u(n.cloned).css("display",n.defaultDisplay),s(n.debug,"Before element fadeout"),u(e).stop().fadeOut(n.transitionSpeed,function(){s(n.debug,"Fading out is done - should remove cloned element"),n.gradient?u(this).css({background:n.gradient+", url("+t+") center center/cover no-repeat fixed",position:"absolute",display:n.defaultDisplay}):u(this).css({background:"url("+t+") center center/cover no-repeat fixed",position:"absolute",display:n.defaultDisplay}),n.eventHandlers.afterChange&&n.eventHandlers.afterChange(e,n,t),c(n,n.current),n.timerId=setTimeout(d,n.transitionDelay,e,n)})}(e,n,l(n))}function c(e,n){e.slideControls.enabled&&(n="#"+e.uniqueId+"-image"+n,u("[id^='"+e.uniqueId+"-image']").removeClass("jquery-bg-slideshow-list-control-image-active-element"),u(n).addClass("jquery-bg-slideshow-list-control-image-active-element"))}},u.fn.bgSlideshowApplied=function(){return 1==u(this).data("bgSlideShowApplied")}}(jQuery);